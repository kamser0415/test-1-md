# @SpringBootApplication과 서버
  
## 서버란?
Server
: 기능을 제공하는 **_것_**  
회원가입 기능/ 정보 가져오기 기능/ 추천 기능 등  
것(`물건,컴퓨터`)가 기능을 제공합니다.  
컴퓨터가 이런 기능을 수행해준다. 그래서 컴퓨터를 서버라고 부르기도 합니다.  
  
> 정리  
> 어떠한 **_기능을 제공_** 하는 프로그램  
> 그 프로그램을 실행시키고 있는 **_컴퓨터(것)_**  
>   
  
## 서버와 요청
기능을 제공하기 위해서는 누군가의 **_요청_** 이 있어야합니다.  
  
서버에게도 요청을 해야 정해진 기능을 수행합니다.  
  
손님이 사장님에게 주문(요청)을 할때는 주문서를 보고 손짓이나 말로 전달합니다.  
  
그러면 서버에 요청을 하려면 어떻게 해야할까?  
  
## 네트워크란 무엇인가?  
서버에게 요청을 할 때 네트워크(`인터넷`)을 통해서 요구사항을 전달합니다.  
  
IP
: 인터넷이 연결된 컴퓨터의 고유 번호를 말합니다.
  
포트(PORT)
: 컴퓨터 안에 동작하는 여러 프로그램중에 특정 하나를 가리킵니다.  
  
서버(컴퓨터)에 인테넷을 통해서 특정 프로그램(포트)에 전달할때는 다음과 같이 입력합니다.  
`192.168.0.5:8080` 여기서 `192.168.0.5`는 IP를 의미를 하고, 
`8080`은 포트를 의미합니다.  
  
다시 정리해보면 `192.168.0.5` 인터넷 고유번호에 연결된 컴퓨터에 `8080`포트에서 실행되는 
특정 프로그램을 말합니다.  
  
Domain Name
: `192.168.0.5`처럼 외우기 어려운 숫자대신 사람들이 외우기 쉬운 
`이름`을 넣습니다. 이러한 체계를 DomainNameSystem(`DNS`)이라고 합니다.   
  
## HTTP와 API란 ?
웹 사이트에서 주문을 할 때 운송장에 필요한 정보를 기입합니다.  
보내는 곳, 받는 곳, 이름, 번호, 내부 물건의 종류를 기입하는 것처럼 
서버에 요청을 할 때에도 정해진 **표준**이 있습니다.  
  
음식점에서 판매하는 정해진 메뉴를 보고 주문을 요청하는 것처럼 
서버에 요청을 할 때도 서버(음식점)과 나(클라이언트)는 정해진 **_약속(메뉴)_** 이 필요합니다.  
  
### HTTP(Hyper Text Transfer Protocol)  
서버와 통신을 하기 위한 표준(`protocol`)을 말합니다.  
  
```Actionscript
GET /portion?color=red&count=2
Host: naver.com:3000
```  
이걸 HTTP라고 합니다.  

GET
: HTTP Method라고 하며 서버에게 요청하는 행위를 말합니다.
  
Host
: 요청을 받는 서버(컴퓨터)의 주소와 포트를 말합니다.  
192.168.0.5가 아니라 이해하기 쉬운 말로 DNS로 표현했습니다.  
naver.com 서버의 3000번 포트에서 동작하는 프로그램을 의미합니다.  
  
/portion?color=red&count=2
: 3000번 포트에서 자원의 위치(`/portion`)과 
세부 조건을 의미합니다. 구분자는 `&`을 사용합니다.  
세부조건을 `Query`라고 합니다.  
  
### 정보를 보내는 2가지 방법

Query
: GET에서 사용됩니다.

Body  
: POST에서 사용됩니다.

### 다양한 HTTP Method
GET
: 서버로부터 정보를 요청하는 메소드입니다. URL에 데이터를 첨부하여 전송하며, 주로 데이터를 검색할 때 사용됩니다. GET 메소드는 요청이 캐싱될 수 있으며, 브라우저에서는 뒤로 가기 버튼을 누르면 이전 요청을 재전송할 수 있습니다.

POST
: 서버로 데이터를 제출하는 메소드입니다. 주로 서버에 데이터를 생성하거나 업데이트하기 위해 사용되며, 데이터가 URL에 노출되지 않고 요청 본문에 포함됩니다. POST 요청은 캐싱되지 않으며, 데이터의 길이에 제한이 없어서 대용량 데이터를 전송할 수 있습니다.

PUT
: 서버에 리소스를 업데이트하는 메소드입니다. PUT 요청은 명시적으로 해당 리소스의 상태를 변경하는 것을 나타내며, 요청 본문에 업데이트할 데이터를 포함합니다.

DELETE
: 서버에서 리소스를 삭제하는 메소드입니다. DELETE 요청은 지정된 리소스를 삭제하도록 서버에 요청합니다.

**HTTP 메소드의 특징**
+ Idempotent (멱등성): 동일한 요청을 여러 번 보내더라도 동일한 결과가 나와야 합니다. GET, PUT, DELETE 메소드는 멱등적이지만, POST 메소드는 멱등적이지 않습니다.
+ Safe (안전성): 요청이 서버의 상태를 변경하지 않는 경우에 안전한 메소드입니다. GET 메소드는 안전하며, POST, PUT, DELETE 메소드는 안전하지 않습니다.
+ 캐싱 가능: 응답이 캐시될 수 있는지 여부를 나타냅니다. GET 메소드는 캐싱 가능하지만, POST, PUT, DELETE 메소드는 캐싱되지 않습니다.
+ 요청 본문(Body): 요청 본문에 데이터를 포함하여 서버로 전송할 수 있습니다. POST, PUT, PATCH 메소드에서 주로 사용됩니다.

### API
API는 서버와 클라이언트 간의 상호작용을 위한 규칙을 정의합니다.  
서버는 요청을 처리할 수 있는 인터페이스를 제공하고, 
클라이언트는 이 인터페이스를 사용하여 요청을 보냅니다. 
이러한 **규칙은 데이터를 교환하고 상호작용하는 데 필요한 명세서**로, 
서버와 클라이언트 간의 **_통신을 표준화_** 하여 서로 다른 시스템 간의 통합을 용이하게 합니다
 
> 정해진 약속을 하여,특정 기능을 수행하는 것  
  
API는 `HTTP Method`,`Header`,`Body` 세 가지를 통해서 규칙을 정의할 수 있습니다.  
  
### URL
```Actionscript
URL: https://www.example.com:8080/api/resource?id=123
```

+ 프로토콜(protocol): https://
+ 호스트(host): www.example.com
+ 포트(port): 8080
+ 경로(path): /api/resource
+ 쿼리스트링(query string): ?id=123  (추가정보)
  
이 URL은 HTTPS 프로토콜을 사용하여 www.example.com 호스트의 8080 포트에 위치한 /api/resource 경로에 있는 자원에 대한 요청을 나타냅니다. 쿼리스트링은 id 매개변수가 123 값으로 설정되어 있음을 나타냅니다.  
  
### HTTP 응답
+ 클라이언트는 요청을 한 컴퓨터
+ 서버는 요청에 대한 응답을 하는 컴퓨터  
  
HTTP 응답도 요청과 마찬가지로 규칙이 있습니다.  
+ 첫줄 - **상태코드(200,404,500등)**
+ 여러줄 - **헤더**
+ 한 줄 띄기
+ 여러줄 - **바디**  
  
응답은 `상태코드`,`헤더`,`바디` 세 가지를 사용해서 HTTP 응답이 구성됩니다.  
  
## 정리
1. (`WEB을 통한`) 컴퓨터 간의 통신은 HTTP라는 표준화된 방식이 있다. 
2. HTTP 요청의 핵심은 `HTTP Method(행위)`와 `Path(경로)`다
3. 요청에서 데이터를 서버에 전달하기 위한 방법은 `Query`와 `Body`다
4. HTTP 응답은 `상태코드(status`가 핵심이다.
5. 클라이언트와 서버는 HTTP를 주고 받으며 기능을 동작하는데 이때 정해진 규칙을 `API`라고 한다.

----------------------------------------(분기)

## GET API 개발하고 테스트하기
  
API를 개발하기 전에 해야 할 것!  
  
HTTP 요청과 응답에 대한 API Specification(명세)를 정해야합니다.  
  
API를 정의한다면 다음 네가지를 정해야합니다.
1. HTTP Method -> GET
2. HTTP Path -> /add
3. 쿼리 (key와 value) -> int num1/int num2
4. API의 반환 결과 -> 숫자- 덧셈의 결과
  
```Java
@GetMapping("/add") // HTTP Method
public int addTwoNumbers(@RequestParam int number1,
                         @RequestParam int number2) {
    return number1+number2;
}

@GetMapping("/add") // HTTP Method
public int addTwoNumbers(@ModelAttribute CalculatorAddRequest request) {
    return request.getNumber1()+ request.getNumber2();
}
```  

우리가 작성해야하는 HTTP 응답을 스프링부트가 알아서 정해진 규칙에 맞게 HTTP 응답을 만들고 
BODY에 들어가는 내용만 작성하면됩니다.